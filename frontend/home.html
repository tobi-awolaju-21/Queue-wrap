<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Queue Wrap</title>
    <link rel="stylesheet" href="./styles/homeStyle.css" type="text/css">
</head>



<body>
    <div class="block1">
        <div class="sideblock1"><img src="./img/rainbow.gif" style="width: 100%; height: 100%;"></div>
    <img style="width: 50vw; height: 50vw;" src="" id="pfp">
        <div class="sideblock">
            Your
            <br>
            2024
            <br>
            Qwrap
        </div>
    </div>



<div id="json"></div>

    <div class="block2"> 
<div class="container">
    <h1 id="username">......</h1>
  </div>

        <div class="buttonparent">
            <hr class="dashed-divider"></hr>   
<button class="button1" id="newwrapButton">New wrap</button>
        </div>
        
    </div>

    <script src="./scripts/moment.js"></script>
   <!-- Include Firebase SDK via CDN -->
   <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-database-compat.js"></script>


   <!-- Firebase configuration and other Firebase-related code -->
   <script>
       // Firebase configuration
       const firebaseConfig = {
 apiKey: "AIzaSyALxLdpqTkaYDrDILveqL4y_CTpSpnseiw",
 authDomain: "queuewrap.firebaseapp.com",
 projectId: "queuewrap",
 storageBucket: "queuewrap.appspot.com",
 messagingSenderId: "181118240793",
 appId: "1:181118240793:web:190390eeffe69e34178288",
 measurementId: "G-QH07EEN0HY"
};
       // Initialize Firebase
       firebase.initializeApp(firebaseConfig);


       // Function to retrieve data from a specific directory
function getDataFromDirectory(directory) {
  return new Promise((resolve, reject) => {
    firebase.database().ref(directory).once('value', (snapshot) => {
      const data = snapshot.val();
      resolve(data);
    }, (error) => {
      reject(error);
    });
  });
}

const directory = '/tobiawolaju21';
getDataFromDirectory(directory)
  .then((data) => {

    const jsonData = JSON.stringify(data);

 // Parse JSON data
const Jdata = JSON.parse(jsonData);


// Convert object keys to array and reverse it
const reversedKeys = Object.keys(Jdata).reverse();


// Get the container div
const containerDiv = document.querySelector('.container');

// Loop through the reversed array of keys and create div elements for each entry
reversedKeys.forEach((key) => {
        const entry = Jdata[key];
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('item'); 
        itemDiv.style.color = '#000';
        itemDiv.style.fontSize = '15px';

        // Convert timestamp to a Moment object and get the time ago
        const timeAgo = moment(entry.timestamp).fromNow();
        itemDiv.innerHTML = `Feeling ${entry.feeling},<div style="font-size:10px; padding:4px; color:#000; background-color:#d8d8d8; border-radius:100px width:40px; height:40px;">${timeAgo}</div>`;
        containerDiv.appendChild(itemDiv);
    });



})
  .catch((error) => {
    console.error('Error retrieving data:', error);
  });
      </script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="./scripts/home.js"></script>
</body>
</html>



